<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>창세기 2장 (1–25)</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root{--gap:14px;--border:#e5e5e5;--muted:#666;--on:#0b5;--playing:#08f;}
    body{margin:0; padding:18px; font-family:"Nanum Gothic", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:#fff; color:#111;}
    .wrap{max-width:980px; margin:0 auto;}
    .verse{border:1px solid var(--border); border-radius:14px; padding:14px; margin:0 0 var(--gap) 0;}
    .ref{font-weight:700; margin:0 0 8px 0;}
    h1.he{margin:0 0 10px 0; font-size:34px; line-height:1.25; direction:rtl; unicode-bidi:plaintext; text-align:left; font-family:"SBL Hebrew","Ezra SIL SR","Times New Roman",serif;}
    .kor{margin:0 0 10px 0; font-size:16px; color:#111;}
    .btnrow{display:flex; gap:10px; align-items:center; flex-wrap:wrap;}
    button{border:1px solid var(--border); background:#f7f7f7; padding:9px 12px; border-radius:12px; cursor:pointer; font-weight:700;}
    button:hover{background:#f0f0f0;}
    button.playing{border-color:var(--playing); color:var(--playing); background:#eef6ff;}
    button.repeatOn{border-color:var(--on); color:var(--on); background:#eafff3;}
    .note{margin:0 0 14px 0; color:var(--muted); font-size:13px;}

    .topbar{
      position: sticky;
      top: 8px;
      z-index: 999;
      background: #fff;
      padding: 10px 0;
      margin: 0 0 14px 0;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      border-bottom: 1px solid var(--border);
    }
    .topbar .note{margin:0; color:var(--muted); font-size:13px;}
    .jump{display:flex; align-items:center; gap:8px; font-size:13px; color:var(--muted);}
    #jumpSelect{padding:8px 10px; border:1px solid var(--border); border-radius:12px; background:#fff; font-weight:700;}

    /* word clickable */
    .w{cursor:pointer; padding:0 2px; border-radius:6px;}
    .w:hover{background:#f3f6ff;}

    /* modal */
    .modalBg{
      position:fixed; inset:0; background:rgba(0,0,0,.45);
      display:none; align-items:center; justify-content:center;
      padding:18px; z-index:2000;
    }
    .modalBg.on{display:flex;}
    .modal{
      width:min(720px, 96vw);
      background:#fff; border:1px solid var(--border); border-radius:16px;
      box-shadow:0 10px 30px rgba(0,0,0,.18);
      padding:14px;
    }
    .modalTop{display:flex; justify-content:space-between; align-items:center; gap:10px; margin-bottom:10px;}
    .closeBtn{border:1px solid var(--border); background:#f7f7f7; padding:8px 12px; border-radius:12px; cursor:pointer; font-weight:700;}
    .wordHead{margin:0; font-size:46px; line-height:1.1; direction:rtl; unicode-bidi:plaintext; text-align:left; font-family:"SBL Hebrew","Ezra SIL SR","Times New Roman",serif;}
    .modalBtns{display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-top:10px;}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <p class="note">🔊: 히브리어만 읽기(구분기호 제거) / ∞: 해당 절만 반복 / (단어 클릭: 단어 팝업)</p>
      <label class="jump">
        <span>이동</span>
        <select id="jumpSelect" aria-label="절 이동"></select>
      </label>
    </div>


    <section class="verse" id="v1">
      <div class="ref">창세기 2:1</div>
      <h1 class="he" data-v="1">וַיְכֻלּוּ הַשָּׁמַיִם וְהָאָרֶץ / וְכָל־צְבָאָם.</h1>
      <div class="kor">그리고 완성되었다 하늘들과 땅 / 그리고 모든 그들의 무리.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="1">🔊</button>
        <button class="loopBtn" data-v="1">∞</button>
      </div>
    </section>

    <section class="verse" id="v2">
      <div class="ref">창세기 2:2</div>
      <h1 class="he" data-v="2">וַיְכַל אֱלֹהִים בַּיּוֹם הַשְּׁבִיעִי / מְלַאכְתּוֹ אֲשֶׁר עָשָׂה / וַיִּשְׁבֹּת בַּיּוֹם הַשְּׁבִיעִי / מִכָּל־מְלַאכְתּוֹ אֲשֶׁר עָשָׂה.</h1>
      <div class="kor">그리고 끝내셨다 하나님이 그 날 일곱째에 / 그의 일(그가 했던) / 그리고 쉬셨다 그 날 일곱째에 / 모든 그의 일에서(그가 했던).</div>
      <div class="btnrow">
        <button class="playBtn" data-v="2">🔊</button>
        <button class="loopBtn" data-v="2">∞</button>
      </div>
    </section>

    <section class="verse" id="v3">
      <div class="ref">창세기 2:3</div>
      <h1 class="he" data-v="3">וַיְבָרֶךְ אֱלֹהִים אֶת־יוֹם הַשְּׁבִיעִי / וַיְקַדֵּשׁ אֹתוֹ / כִּי בוֹ שָׁבַת מִכָּל־מְלַאכְתּוֹ / אֲשֶׁר־בָּרָא אֱלֹהִים לַעֲשׂוֹת.</h1>
      <div class="kor">그리고 복 주셨다 하나님이 그 날 일곱째를 / 그리고 거룩하게 하셨다 그것을 / 이는 그 안에서 쉬셨다 모든 그의 일에서 / 하나님이 창조하셨던(하려고).</div>
      <div class="btnrow">
        <button class="playBtn" data-v="3">🔊</button>
        <button class="loopBtn" data-v="3">∞</button>
      </div>
    </section>

    <section class="verse" id="v4">
      <div class="ref">창세기 2:4</div>
      <h1 class="he" data-v="4">אֵלֶּה תוֹלְדוֹת הַשָּׁמַיִם וְהָאָרֶץ / בְּהִבָּרְאָם / בְּיוֹם / עֲשׂוֹת יְהוָה אֱלֹהִים־אֶרֶץ וְשָׁמָיִם.</h1>
      <div class="kor">이것들 하늘들과 땅의 계보들 / 그들이 창조될 때에 / 그 날에 / 만드심 여호와 하나님(땅과 하늘들).</div>
      <div class="btnrow">
        <button class="playBtn" data-v="4">🔊</button>
        <button class="loopBtn" data-v="4">∞</button>
      </div>
    </section>

    <section class="verse" id="v5">
      <div class="ref">창세기 2:5</div>
      <h1 class="he" data-v="5">וְכֹל שִׂיחַ הַשָּׂדֶה / טֶרֶם יִהְיֶה בָאָרֶץ / וְכָל־עֵשֶׂב הַשָּׂדֶה / טֶרֶם יִצְמָח / כִּי לֹא הִמְטִיר יְהוָה אֱלֹהִים / עַל־הָאָרֶץ / וְאָדָם אַיִן / לַעֲבֹד אֶת־הָאֲדָמָה.</h1>
      <div class="kor">그리고 모든 들의 떨기 / 아직 땅에 있지 않았다 / 그리고 모든 들의 풀 / 아직 자라지 않았다 / 이는 비 내리게 하지 않으셨다 여호와 하나님이 / 땅 위에 / 그리고 사람 없음 / 경작하려고 그 땅을.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="5">🔊</button>
        <button class="loopBtn" data-v="5">∞</button>
      </div>
    </section>

    <section class="verse" id="v6">
      <div class="ref">창세기 2:6</div>
      <h1 class="he" data-v="6">וְאֵד / יַעֲלֶה מִן־הָאָרֶץ / וְהִשְׁקָה / אֶת־כָּל־פְּנֵי הָאֲדָמָה.</h1>
      <div class="kor">그리고 안개 / 올라갔다 땅에서 / 그리고 물 주었다 / 모든 땅의 얼굴을.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="6">🔊</button>
        <button class="loopBtn" data-v="6">∞</button>
      </div>
    </section>

    <section class="verse" id="v7">
      <div class="ref">창세기 2:7</div>
      <h1 class="he" data-v="7">וַיִּיצֶר יְהוָה אֱלֹהִים אֶת־הָאָדָם / עָפָר מִן־הָאֲדָמָה / וַיִּפַּח בְּאַפָּיו / נִשְׁמַת חַיִּים / וַיְהִי הָאָדָם / לְנֶפֶשׁ חַיָּה.</h1>
      <div class="kor">그리고 빚으셨다 여호와 하나님이 그 사람을 / 흙(가루) 땅에서 / 그리고 불어넣으셨다 그의 코에 / 생명의 숨 / 그리고 되었다 그 사람 / 살아있는 혼.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="7">🔊</button>
        <button class="loopBtn" data-v="7">∞</button>
      </div>
    </section>

    <section class="verse" id="v8">
      <div class="ref">창세기 2:8</div>
      <h1 class="he" data-v="8">וַיִּטַּע יְהוָה אֱלֹהִים / גַּן־בְּעֵדֶן־מִקֶּדֶם / וַיָּשֶׂם שָׁם / אֶת־הָאָדָם אֲשֶׁר יָצָר.</h1>
      <div class="kor">그리고 심으셨다 여호와 하나님이 / 동쪽의 에덴에 동산을 / 그리고 두셨다 거기 / 그 사람을 그가 지으셨던.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="8">🔊</button>
        <button class="loopBtn" data-v="8">∞</button>
      </div>
    </section>

    <section class="verse" id="v9">
      <div class="ref">창세기 2:9</div>
      <h1 class="he" data-v="9">וַיַּצְמַח יְהוָה אֱלֹהִים / מִן־הָאֲדָמָה / כָּל־עֵץ נֶחְמָד לְמַרְאֶה / וְטוֹב לְמַאֲכָל / וְעֵץ הַחַיִּים / בְּתוֹךְ הַגָּן / וְעֵץ / הַדַּעַת טוֹב וָרָע.</h1>
      <div class="kor">그리고 자라게 하셨다 여호와 하나님이 / 땅에서 / 모든 나무 기쁜(보기에) / 그리고 좋은(먹기에) / 그리고 생명의 나무 / 동산 한가운데 / 그리고 지식의 나무 / 좋음과 나쁨.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="9">🔊</button>
        <button class="loopBtn" data-v="9">∞</button>
      </div>
    </section>

    <section class="verse" id="v10">
      <div class="ref">창세기 2:10</div>
      <h1 class="he" data-v="10">וְנָהָר יֹצֵא מֵעֵדֶן / לְהַשְׁקוֹת אֶת־הַגָּן / וּמִשָּׁם / יִפָּרֵד / וְהָיָה / לְאַרְבָּעָה רָאשִׁים.</h1>
      <div class="kor">그리고 강 하나 나왔다 에덴에서 / 물 주려고 그 동산을 / 그리고 거기서 / 갈라졌다 / 그리고 되었다 / 네 머리(갈래)로.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="10">🔊</button>
        <button class="loopBtn" data-v="10">∞</button>
      </div>
    </section>

    <section class="verse" id="v11">
      <div class="ref">창세기 2:11</div>
      <h1 class="he" data-v="11">שֵׁם הָאֶחָד / פִּישׁוֹן / הוּא הַסֹּבֵב / אֵת כָּל־אֶרֶץ הַחֲוִילָה / אֲשֶׁר־שָׁם הַזָּהָב.</h1>
      <div class="kor">그 하나의 이름 / 피숀 / 그것이 둘러싼다 / 모든 하윌라 땅을 / 거기 금.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="11">🔊</button>
        <button class="loopBtn" data-v="11">∞</button>
      </div>
    </section>

    <section class="verse" id="v12">
      <div class="ref">창세기 2:12</div>
      <h1 class="he" data-v="12">וּזְהַב הָאָרֶץ הַהִוא / טוֹב / שָׁם הַבְּדֹלַח / וְאֶבֶן הַשֹּׁהַם.</h1>
      <div class="kor">그리고 그 땅의 금 / 좋다 / 거기 브돌라흐 / 그리고 쇼함 돌.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="12">🔊</button>
        <button class="loopBtn" data-v="12">∞</button>
      </div>
    </section>

    <section class="verse" id="v13">
      <div class="ref">창세기 2:13</div>
      <h1 class="he" data-v="13">וְשֵׁם־הַנָּהָר הַשֵּׁנִי / גִּיחוֹן / הוּא הַסּוֹבֵב / אֵת כָּל־אֶרֶץ כּוּשׁ.</h1>
      <div class="kor">그리고 두 번째 강의 이름 / 기혼 / 그것이 둘러싼다 / 모든 쿠쉬 땅을.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="13">🔊</button>
        <button class="loopBtn" data-v="13">∞</button>
      </div>
    </section>

    <section class="verse" id="v14">
      <div class="ref">창세기 2:14</div>
      <h1 class="he" data-v="14">וְשֵׁם הַנָּהָר הַשְּׁלִישִׁי חִדֶּקֶל / הוּא הַהֹלֵךְ קִדְמַת אַשּׁוּר / וְהַנָּהָר הָרְבִיעִי / הוּא פְרָת.</h1>
      <div class="kor">그리고 세 번째 강의 이름 히데켈 / 그것이 간다 앗수르 동쪽으로 / 그리고 네 번째 강 / 그것은 프라트.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="14">🔊</button>
        <button class="loopBtn" data-v="14">∞</button>
      </div>
    </section>

    <section class="verse" id="v15">
      <div class="ref">창세기 2:15</div>
      <h1 class="he" data-v="15">וַיִּקַּח יְהוָה אֱלֹהִים / אֶת־הָאָדָם / וַיַּנִּחֵהוּ בְגַן־עֵדֶן / לְעָבְדָהּ וּלְשָׁמְרָהּ.</h1>
      <div class="kor">그리고 취하셨다 여호와 하나님이 그 사람을 / 그리고 두셨다 그를 에덴 동산에 / 일하게 하려고 그것을 / 그리고 지키려고 그것을.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="15">🔊</button>
        <button class="loopBtn" data-v="15">∞</button>
      </div>
    </section>

    <section class="verse" id="v16">
      <div class="ref">창세기 2:16</div>
      <h1 class="he" data-v="16">וַיְצַו יְהוָה אֱלֹהִים / עַל־הָאָדָם לֵאמֹר / מִכֹּל עֵץ־הַגָּן / אָכֹל תֹּאכֵל.</h1>
      <div class="kor">그리고 명령하셨다 여호와 하나님이 / 그 사람에게 말하여 / 모든 동산의 나무에서 / 먹어라 너는 먹을 것이다.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="16">🔊</button>
        <button class="loopBtn" data-v="16">∞</button>
      </div>
    </section>

    <section class="verse" id="v17">
      <div class="ref">창세기 2:17</div>
      <h1 class="he" data-v="17">וּמֵעֵץ / הַדַּעַת טוֹב וָרָע / לֹא תֹאכַל / מִמֶּנּוּ / כִּי / בְּיוֹם אֲכָלְךָ מִמֶּנּוּ / מוֹת תָּמוּת.</h1>
      <div class="kor">그리고 지식의 나무 / 좋음과 나쁨 / 너는 먹지 말라 / 그것에서 / 이는 / 그 날에 네가 먹는 날에 그것에서 / 죽음 너는 죽을 것이다.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="17">🔊</button>
        <button class="loopBtn" data-v="17">∞</button>
      </div>
    </section>

    <section class="verse" id="v18">
      <div class="ref">창세기 2:18</div>
      <h1 class="he" data-v="18">וַיֹּאמֶר יְהוָה אֱלֹהִים / לֹא־טוֹב הֱיוֹת הָאָדָם לְבַדּוֹ / אֶעֱשֶׂה־לּוֹ עֵזֶר / כְּנֶגְדּוֹ.</h1>
      <div class="kor">그리고 말씀하셨다 여호와 하나님이 / 좋지 않다 그 사람이 홀로 있는 것 / 내가 만들겠다 그에게 도움 / 그 맞은편에.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="18">🔊</button>
        <button class="loopBtn" data-v="18">∞</button>
      </div>
    </section>

    <section class="verse" id="v19">
      <div class="ref">창세기 2:19</div>
      <h1 class="he" data-v="19">וַיִּצֶר יְהוָה אֱלֹהִים מִן־הָאֲדָמָה / כָּל־חַיַּת הַשָּׂדֶה וְאֵת כָּל־עוֹף הַשָּׁמַיִם / וַיָּבֵא אֶל־הָאָדָם / לִרְאוֹת מַה־יִּקְרָא־לוֹ / וְכֹל אֲשֶׁר יִקְרָא־לוֹ הָאָדָם נֶפֶשׁ חַיָּה / הוּא שְׁמוֹ.</h1>
      <div class="kor">그리고 빚으셨다 여호와 하나님이 땅에서 / 모든 들의 짐승과 모든 하늘의 새를 / 그리고 데려오셨다 그 사람에게 / 보려고 무엇이라 부를지 그것을 / 그리고 모든 것을 그 사람이 부르는 것 / 살아있는 혼 / 그것이 그 이름.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="19">🔊</button>
        <button class="loopBtn" data-v="19">∞</button>
      </div>
    </section>

    <section class="verse" id="v20">
      <div class="ref">창세기 2:20</div>
      <h1 class="he" data-v="20">וַיִּקְרָא הָאָדָם שֵׁמוֹת / לְכָל־הַבְּהֵמָה וּלְעוֹף הַשָּׁמַיִם / וּלְכֹל / חַיַּת הַשָּׂדֶה / וּלְאָדָם / לֹא־מָצָא עֵזֶר כְּנֶגְדּוֹ.</h1>
      <div class="kor">그리고 불렀다 그 사람이 이름들을 / 모든 짐승에게와 하늘의 새에게와 모든 들의 짐승에게 / 그리고 그 사람을 위하여 / 찾지 못했다 도움 그 맞은편에.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="20">🔊</button>
        <button class="loopBtn" data-v="20">∞</button>
      </div>
    </section>

    <section class="verse" id="v21">
      <div class="ref">창세기 2:21</div>
      <h1 class="he" data-v="21">וַיַּפֵּל יְהוָה אֱלֹהִים תַּרְדֵּמָה עַל־הָאָדָם / וַיִּישָׁן / וַיִּקַּח / אַחַת מִצַּלְעֹתָיו / וַיִּסְגֹּר בָּשָׂר / תַּחְתֶּנָּה.</h1>
      <div class="kor">그리고 떨어뜨리셨다 여호와 하나님이 깊은 잠을 그 사람 위에 / 그리고 그가 잠들었다 / 그리고 취하셨다 / 그의 옆(갈비)들 중 하나를 / 그리고 닫으셨다 살을 / 그 아래에.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="21">🔊</button>
        <button class="loopBtn" data-v="21">∞</button>
      </div>
    </section>

    <section class="verse" id="v22">
      <div class="ref">창세기 2:22</div>
      <h1 class="he" data-v="22">וַיִּבֶן יְהוָה אֱלֹהִים אֶת־הַצֵּלָע אֲשֶׁר־לָקַח מִן־הָאָדָם / לְאִשָּׁה / וַיְבִאֶהָ / אֶל־הָאָדָם.</h1>
      <div class="kor">그리고 세우셨다 여호와 하나님이 그 옆(갈비)을 그가 취하셨던 사람에게서 / 여자(아내)로 / 그리고 데려오셨다 그녀를 / 그 사람에게.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="22">🔊</button>
        <button class="loopBtn" data-v="22">∞</button>
      </div>
    </section>

    <section class="verse" id="v23">
      <div class="ref">창세기 2:23</div>
      <h1 class="he" data-v="23">וַיֹּאמֶר הָאָדָם / זֹאת הַפַּעַם עֶצֶם מֵעֲצָמַי / וּבָשָׂר מִבְּשָׂרִי / לְזֹאת יִקָּרֵא אִשָּׁה / כִּי מֵאִישׁ לֻקְחָה־זֹּאת.</h1>
      <div class="kor">그리고 말했다 그 사람 / 이것 이번에 뼈 내 뼈들에서 / 그리고 살 내 살에서 / 이것을 여자라 불릴 것이다 / 이는 남자에게서 취해졌다 이것.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="23">🔊</button>
        <button class="loopBtn" data-v="23">∞</button>
      </div>
    </section>

    <section class="verse" id="v24">
      <div class="ref">창세기 2:24</div>
      <h1 class="he" data-v="24">עַל־כֵּן / יַעֲזָב־אִישׁ / אֶת־אָבִיו / וְאֶת־אִמּוֹ / וְדָבַק בְּאִשְׁתּוֹ / וְהָיוּ לְבָשָׂר אֶחָד.</h1>
      <div class="kor">그러므로 / 떠날 것이다 남자가 / 그의 아버지를 / 그리고 그의 어머니를 / 그리고 붙을 것이다 그의 아내에게 / 그리고 될 것이다 한 살(한 몸)로.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="24">🔊</button>
        <button class="loopBtn" data-v="24">∞</button>
      </div>
    </section>

    <section class="verse" id="v25">
      <div class="ref">창세기 2:25</div>
      <h1 class="he" data-v="25">וַיִּהְיוּ שְׁנֵיהֶם עֲרוּמִּים / הָאָדָם וְאִשְׁתּוֹ / וְלֹא / יִתְבֹּשָׁשׁוּ.</h1>
      <div class="kor">그리고 있었다 둘 다 벌거벗은 / 그 사람과 그의 아내 / 그리고 부끄러워하지 않았다.</div>
      <div class="btnrow">
        <button class="playBtn" data-v="25">🔊</button>
        <button class="loopBtn" data-v="25">∞</button>
      </div>
    </section>

  </div>

  <!-- Word Modal -->
  <div class="modalBg" id="modalBg" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalWord">
      <div class="modalTop">
        <div style="font-weight:700; color:var(--muted); font-size:13px;">단어</div>
        <button class="closeBtn" id="closeModal">닫기</button>
      </div>
      <h1 class="wordHead" id="modalWord"></h1>
      <div class="modalBtns">
        <button class="playBtn" id="wordPlay">🔊</button>
        <button class="loopBtn" id="wordLoop">∞</button>
      </div>
    </div>
  </div>

  <script>
    const VERSES = Object.fromEntries([
      [1, 'וַיְכֻלּוּ הַשָּׁמַיִם וְהָאָרֶץ, וְכָל־צְבָאָם.'],
      [2, 'וַיְכַל אֱלֹהִים בַּיּוֹם הַשְּׁבִיעִי, מְלַאכְתּוֹ אֲשֶׁר עָשָׂה; וַיִּשְׁבֹּת בַּיּוֹם הַשְּׁבִיעִי, מִכָּל־מְלַאכְתּוֹ אֲשֶׁר עָשָׂה.'],
      [3, 'וַיְבָרֶךְ אֱלֹהִים אֶת־יוֹם הַשְּׁבִיעִי, וַיְקַדֵּשׁ אֹתוֹ: כִּי בוֹ שָׁבַת מִכָּל־מְלַאכְתּוֹ, אֲשֶׁר־בָּרָא אֱלֹהִים לַעֲשׂוֹת.'],
      [4, 'אֵלֶּה תוֹלְדוֹת הַשָּׁמַיִם וְהָאָרֶץ, בְּהִבָּרְאָם: בְּיוֹם, עֲשׂוֹת יְהוָה אֱלֹהִים־אֶרֶץ וְשָׁמָיִם.'],
      [5, 'וְכֹל שִׂיחַ הַשָּׂדֶה, טֶרֶם יִהְיֶה בָאָרֶץ, וְכָל־עֵשֶׂב הַשָּׂדֶה, טֶרֶם יִצְמָח: כִּי לֹא הִמְטִיר יְהוָה אֱלֹהִים, עַל־הָאָרֶץ, וְאָדָם אַיִן, לַעֲבֹד אֶת־הָאֲדָמָה.'],
      [6, 'וְאֵד, יַעֲלֶה מִן־הָאָרֶץ, וְהִשְׁקָה, אֶת־כָּל־פְּנֵי הָאֲדָמָה.'],
      [7, 'וַיִּיצֶר יְהוָה אֱלֹהִים אֶת־הָאָדָם, עָפָר מִן־הָאֲדָמָה, וַיִּפַּח בְּאַפָּיו, נִשְׁמַת חַיִּים; וַיְהִי הָאָדָם, לְנֶפֶשׁ חַיָּה.'],
      [8, 'וַיִּטַּע יְהוָה אֱלֹהִים, גַּן־בְּעֵדֶן־מִקֶּדֶם; וַיָּשֶׂם שָׁם, אֶת־הָאָדָם אֲשֶׁר יָצָר.'],
      [9, 'וַיַּצְמַח יְהוָה אֱלֹהִים, מִן־הָאֲדָמָה, כָּל־עֵץ נֶחְמָד לְמַרְאֶה, וְטוֹב לְמַאֲכָל; וְעֵץ הַחַיִּים, בְּתוֹךְ הַגָּן, וְעֵץ, הַדַּעַת טוֹב וָרָע.'],
      [10, 'וְנָהָר יֹצֵא מֵעֵדֶן, לְהַשְׁקוֹת אֶת־הַגָּן; וּמִשָּׁם, יִפָּרֵד, וְהָיָה, לְאַרְבָּעָה רָאשִׁים.'],
      [11, 'שֵׁם הָאֶחָד, פִּישׁוֹן; הוּא הַסֹּבֵב, אֵת כָּל־אֶרֶץ הַחֲוִילָה, אֲשֶׁר־שָׁם הַזָּהָב.'],
      [12, 'וּזְהַב הָאָרֶץ הַהִוא, טוֹב; שָׁם הַבְּדֹלַח, וְאֶבֶן הַשֹּׁהַם.'],
      [13, 'וְשֵׁם־הַנָּהָר הַשֵּׁנִי, גִּיחוֹן; הוּא הַסּוֹבֵב, אֵת כָּל־אֶרֶץ כּוּשׁ.'],
      [14, 'וְשֵׁם הַנָּהָר הַשְּׁלִישִׁי חִדֶּקֶל; הוּא הַהֹלֵךְ קִדְמַת אַשּׁוּר; וְהַנָּהָר הָרְבִיעִי, הוּא פְרָת.'],
      [15, 'וַיִּקַּח יְהוָה אֱלֹהִים, אֶת־הָאָדָם; וַיַּנִּחֵהוּ בְגַן־עֵדֶן, לְעָבְדָהּ וּלְשָׁמְרָהּ.'],
      [16, 'וַיְצַו יְהוָה אֱלֹהִים, עַל־הָאָדָם לֵאמֹר: מִכֹּל עֵץ־הַגָּן, אָכֹל תֹּאכֵל.'],
      [17, 'וּמֵעֵץ, הַדַּעַת טוֹב וָרָע, לֹא תֹאכַל, מִמֶּנּוּ: כִּי, בְּיוֹם אֲכָלְךָ מִמֶּנּוּ, מוֹת תָּמוּת.'],
      [18, 'וַיֹּאמֶר יְהוָה אֱלֹהִים, לֹא־טוֹב הֱיוֹת הָאָדָם לְבַדּוֹ; אֶעֱשֶׂה־לּוֹ עֵזֶר, כְּנֶגְדּוֹ.'],
      [19, 'וַיִּצֶר יְהוָה אֱלֹהִים מִן־הָאֲדָמָה, כָּל־חַיַּת הַשָּׂדֶה וְאֵת כָּל־עוֹף הַשָּׁמַיִם, וַיָּבֵא אֶל־הָאָדָם, לִרְאוֹת מַה־יִּקְרָא־לוֹ; וְכֹל אֲשֶׁר יִקְרָא־לוֹ הָאָדָם נֶפֶשׁ חַיָּה, הוּא שְׁמוֹ.'],
      [20, 'וַיִּקְרָא הָאָדָם שֵׁמוֹת, לְכָל־הַבְּהֵמָה וּלְעוֹף הַשָּׁמַיִם, וּלְכֹל, חַיַּת הַשָּׂדֶה; וּלְאָדָם, לֹא־מָצָא עֵזֶר כְּנֶגְדּוֹ.'],
      [21, 'וַיַּפֵּל יְהוָה אֱלֹהִים תַּרְדֵּמָה עַל־הָאָדָם, וַיִּישָׁן; וַיִּקַּח, אַחַת מִצַּלְעֹתָיו, וַיִּסְגֹּר בָּשָׂר, תַּחְתֶּנָּה.'],
      [22, 'וַיִּבֶן יְהוָה אֱלֹהִים אֶת־הַצֵּלָע אֲשֶׁר־לָקַח מִן־הָאָדָם, לְאִשָּׁה; וַיְבִאֶהָ, אֶל־הָאָדָם.'],
      [23, 'וַיֹּאמֶר הָאָדָם, זֹאת הַפַּעַם עֶצֶם מֵעֲצָמַי, וּבָשָׂר מִבְּשָׂרִי; לְזֹאת יִקָּרֵא אִשָּׁה, כִּי מֵאִישׁ לֻקְחָה־זֹּאת.'],
      [24, 'עַל־כֵּן, יַעֲזָב־אִישׁ, אֶת־אָבִיו, וְאֶת־אִמּוֹ; וְדָבַק בְּאִשְׁתּוֹ, וְהָיוּ לְבָשָׂר אֶחָד.'],
      [25, 'וַיִּהְיוּ שְׁנֵיהֶם עֲרוּמִּים, הָאָדָם וְאִשְׁתּוֹ; וְלֹא, יִתְבֹּשָׁשׁוּ.'],
    ]);

    let voicesReady = false;
    let heVoice = null;

    function pickHebrewVoice(){
      const voices = window.speechSynthesis.getVoices() || [];
      heVoice = voices.find(v => (v.lang || "").toLowerCase().startsWith("he")) || null;
      voicesReady = true;
    }

    function cleanForTTS(text){
      return String(text)
        .replace(/[\/]/g, " ")
        .replace(/[־–—]/g, " ")
        .replace(/[.,;:!?״׳'"“”]/g, " ")
        .replace(/\s+/g, " ")
        .trim();
    }

    let playingV = null;
    let repeatV = null;

    function setBtnState(v){
      document.querySelectorAll(".playBtn[data-v]").forEach(b => b.classList.toggle("playing", Number(b.dataset.v) === v));
      document.querySelectorAll(".loopBtn[data-v]").forEach(b => b.classList.toggle("repeatOn", Number(b.dataset.v) === repeatV));
    }

    function stopAll(){
      try{ window.speechSynthesis.cancel(); }catch(e){}
      playingV = null;
      setBtnState(null);
      // word UI reset
      wordPlaying = false;
      wordRepeat = false;
      wordPlay.classList.remove("playing");
      wordLoop.classList.remove("repeatOn");
    }

    function speakText(text, onEnd){
      const u = new SpeechSynthesisUtterance(cleanForTTS(text));
      if (!voicesReady) pickHebrewVoice();
      if (heVoice) u.voice = heVoice;
      u.lang = (heVoice && heVoice.lang) ? heVoice.lang : "he-IL";
      u.rate = 1.0;
      u.onend = () => onEnd && onEnd();
      u.onerror = () => onEnd && onEnd(true);
      window.speechSynthesis.speak(u);
    }

    function speakVerse(v, fromRepeat=false){
      v = Number(v);
      if (!VERSES[v]) return;

      // verse playback cancels word playback
      closeWordModal(false);

      if (playingV !== null && playingV !== v){
        stopAll();
      }
      if (repeatV !== null && repeatV !== v && !fromRepeat){
        repeatV = null;
      }

      playingV = v;
      setBtnState(v);

      speakText(VERSES[v], () => {
        playingV = null;
        setBtnState(null);
        if (repeatV === v){
          setTimeout(() => speakVerse(v, true), 350);
        }
      });
    }

    if ("speechSynthesis" in window){
      window.speechSynthesis.onvoiceschanged = () => pickHebrewVoice();
      pickHebrewVoice();
    }

    // === Jump dropdown ===
    const jumpSelect = document.getElementById("jumpSelect");

    function buildJumpOptions(){
      const maxV = Math.max(...Object.keys(VERSES).map(Number));
      jumpSelect.innerHTML = "";
      for(let i=1;i<=maxV;i++){
        const opt = document.createElement("option");
        opt.value = i;
        opt.textContent = `창세기 2:${i}`;
        jumpSelect.appendChild(opt);
      }
      const hashV = (location.hash || "").match(/^#v(\d+)$/);
      if (hashV) jumpSelect.value = Number(hashV[1]);
    }

    function jumpToVerse(v){
      const el = document.getElementById(`v${v}`);
      if (!el) return;
      const y = el.getBoundingClientRect().top + window.pageYOffset;
      const barH = document.querySelector(".topbar")?.offsetHeight || 0;
      window.scrollTo({ top: y - barH - 12, behavior: "smooth" });
      history.replaceState(null, "", `#v${v}`);
    }

    buildJumpOptions();
    jumpSelect.addEventListener("change", (e) => jumpToVerse(Number(e.target.value)));
    window.addEventListener("hashchange", () => {
      const m = (location.hash || "").match(/^#v(\d+)$/);
      if (m) jumpSelect.value = Number(m[1]);
    });

    // === Verse buttons ===
    document.addEventListener("click", (e) => {
      const p = e.target.closest(".playBtn[data-v]");
      const l = e.target.closest(".loopBtn[data-v]");

      if (p){
        const v = Number(p.dataset.v);
        if (repeatV !== null && repeatV !== v) repeatV = null;
        speakVerse(v);
        return;
      }

      if (l){
        const v = Number(l.dataset.v);
        if (repeatV === v){
          repeatV = null;
          setBtnState(playingV);
          return;
        }
        repeatV = v;
        setBtnState(playingV);
        speakVerse(v);
        return;
      }
    });

    // === Word clickable render ===
    function wrapWords(){
      document.querySelectorAll("h1.he").forEach(h => {
        const txt = h.textContent || "";
        // Split by spaces, preserve "/" as its own token
        const tokens = txt.split(/\s+/).filter(Boolean);
        const parts = tokens.map(t => {
          if (t === "/") return '<span class="sep">/</span>';
          // strip trailing punctuation for popup, but keep original display
          const clean = t.replace(/[.,;:!?״׳'"]/g, "");
          return `<span class="w" data-w="${clean}">${t}</span>`;
        });
        h.innerHTML = parts.join(" ");
      });
    }
    wrapWords();

    // === Word modal ===
    const modalBg = document.getElementById("modalBg");
    const modalWord = document.getElementById("modalWord");
    const closeModalBtn = document.getElementById("closeModal");
    const wordPlay = document.getElementById("wordPlay");
    const wordLoop = document.getElementById("wordLoop");

    let currentWord = "";
    let wordPlaying = false;
    let wordRepeat = false;

    function openWordModal(word){
      currentWord = word || "";
      if (!currentWord) return;
      stopAll(); // stop verse/word any ongoing
      modalWord.textContent = currentWord;
      modalBg.classList.add("on");
      modalBg.setAttribute("aria-hidden", "false");
    }

    function closeWordModal(stop=true){
      if (stop){
        try{ window.speechSynthesis.cancel(); }catch(e){}
        wordPlaying = false;
        wordRepeat = false;
        wordPlay.classList.remove("playing");
        wordLoop.classList.remove("repeatOn");
      }
      modalBg.classList.remove("on");
      modalBg.setAttribute("aria-hidden", "true");
    }

    function speakWord(fromRepeat=false){
      if (!currentWord) return;
      // speaking word cancels verse repeat
      repeatV = null;
      playingV = null;
      setBtnState(null);

      wordPlaying = true;
      wordPlay.classList.add("playing");
      wordLoop.classList.toggle("repeatOn", wordRepeat);

      speakText(currentWord, () => {
        wordPlaying = false;
        wordPlay.classList.remove("playing");
        if (wordRepeat){
          setTimeout(() => speakWord(true), 300);
        }
      });
    }

    document.addEventListener("click", (e) => {
      const w = e.target.closest(".w");
      if (w && w.dataset.w){
        openWordModal(w.dataset.w);
      }
    });

    closeModalBtn.addEventListener("click", () => closeWordModal(true));
    modalBg.addEventListener("click", (e) => {
      if (e.target === modalBg) closeWordModal(true);
    });
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && modalBg.classList.contains("on")) closeWordModal(true);
    });

    wordPlay.addEventListener("click", () => {
      wordRepeat = false;
      wordLoop.classList.remove("repeatOn");
      try{ window.speechSynthesis.cancel(); }catch(e){}
      speakWord(false);
    });

    wordLoop.addEventListener("click", () => {
      wordRepeat = !wordRepeat;
      wordLoop.classList.toggle("repeatOn", wordRepeat);
      try{ window.speechSynthesis.cancel(); }catch(e){}
      if (wordRepeat) speakWord(true);
    });
  </script>
</body>
</html>
