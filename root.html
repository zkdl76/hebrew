<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ì°½ì„¸ê¸° 1ì¥ íˆë¸Œë¦¬ì–´ ë™ì‚¬ ê²Œì„ v10 (ì°½ 1ì¥ ì „ìš©, ë³µìˆ˜ ëœ» í—ˆìš©)</title>
<style>
body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #1e3c72, #2a5298);
    color: white;
    text-align: center;
}
#wordContainer {
    height: 50vh;
    display: flex;
    justify-content: center;
    align-items: center;
}
#wordCanvas {
    font-size: 100px;
    direction: rtl;
}
input {
    padding: 12px;
    font-size: 20px;
    width: 340px;
    border-radius: 8px;
    border: none;
    text-align: center;
}
button {
    padding: 10px 20px;
    font-size: 18px;
    border-radius: 8px;
    border: none;
    margin: 10px;
    cursor: pointer;
}
#pauseBtn {
    display: none;
    background-color: orange;
}
#resumeBtn {
    display: none;
    background-color: green;
    color: white;
}
#feedback {
    margin-top: 20px;
    font-size: 22px;
    min-height: 90px;
}
.speaker {
    cursor: pointer;
    font-size: 40px;
    margin-left: 15px;
    display:none;
}
/* --- ì—¬ê¸°ì— ì¶”ê°€í•˜ì„¸ìš” --- */

/* ìœ„ì¹˜ ê¸°ì¤€ì  ì„¤ì • */
#wordContainer > div {
    position: relative;
}

/* ê³µí†µ ì•„ì´ì½˜ ì„¤ì • (ì¤‘ì•™ ë°°ì¹˜ ë° í¬ê¸°) */
.correct::after, .wrong::after {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: block;
    pointer-events: none; /* í´ë¦­ ë°©í•´ ê¸ˆì§€ */
}

/* ì •ë‹µ: ì„ ëª…í•˜ê³  êµµì€ ë¹¨ê°„ìƒ‰ ì› */
.correct::after {
    content: "";
    width: 160px; /* í¬ê¸°ë¥¼ ì‚´ì§ í‚¤ì›Œ ê¸€ìì™€ì˜ ê°„ê²©ì„ í™•ë³´ */
    height: 160px;
    border: 10px solid #FF0000; /* rgba ëŒ€ì‹  ì„ ëª…í•œ ë¹¨ê°„ìƒ‰(#FF0000) ì‚¬ìš©, ë‘ê»˜ëŠ” 10px */
    border-radius: 50%;
    box-shadow: 0 0 10px rgba(0,0,0,0.5); /* ì› ë’¤ì— ì‚´ì§ ê·¸ë¦¼ìë¥¼ ì£¼ì–´ ë” ì„ ëª…í•˜ê²Œ ê°•ì¡° */
}

/* ì˜¤ë‹µ: ì„ ëª…í•œ ì—‘ìŠ¤ í‘œì‹œ */
.wrong::after {
    content: "âœ•";
    color: #FF0000; /* ì„ ëª…í•œ ë¹¨ê°„ìƒ‰ */
    font-size: 160px;
    font-weight: 900; /* ì—‘ìŠ¤ í‘œì‹œë„ ì•„ì£¼ êµµê²Œ ì„¤ì • */
    text-shadow: 2px 2px 5px rgba(0,0,0,0.5); /* ê·¸ë¦¼ì ì¶”ê°€ */
}


</style>
</head>
<body>

<div id="wordContainer">
    <div>
        <span id="wordCanvas"></span>
        <span id="speakerBtn" class="speaker">ğŸ”Š</span>
    </div>
</div>

<div>
<input type="text" id="answerInput" placeholder="ì–´ê·¼ëª… ëœ» (ì˜ˆ: ë°”ë‹¬ ë‚˜ëˆ„ë‹¤)">
<button onclick="checkAnswer()">ì •ë‹µí™•ì¸</button>
</div>

<div>
<button id="pauseBtn" onclick="pauseGame()">â¸ ì ì‹œë©ˆì¶¤</button>
<button id="resumeBtn" onclick="resumeGame()">â–¶ ì¬ê°œ</button>
</div>

<div id="feedback"></div>

<script>

// ì°½ì„¸ê¸° 1:1â€“31 ë™ì‚¬ë§Œ, meaning ë°°ì—´ë¡œ ë³µìˆ˜ ëœ» í—ˆìš©
const verbs = [

{form:"×‘×¨×", root:"ë°”ë¼", meaning:["ì°½ì¡°í•˜ë‹¤"], gloss:"ê·¸ê°€ ì°½ì¡°í–ˆë‹¤", verse:"ì°½ 1:1"},
{form:"×•×™×××¨", root:"ì•„ë§ˆë¥´", meaning:["ë§í•˜ë‹¤","ì´ë¥´ë‹¤"], gloss:"ê·¸ê°€ ë§í–ˆë‹¤", verse:"ì°½ 1:3"},
{form:"×™×”×™", root:"í•˜ì•¼", meaning:["ìˆë‹¤","ë˜ë‹¤"], gloss:"ìˆê²Œ ë˜ë¼", verse:"ì°½ 1:3"},
{form:"×•×™×”×™", root:"í•˜ì•¼", meaning:["ìˆë‹¤","ë˜ë‹¤"], gloss:"ê·¸ë ‡ê²Œ ë˜ì—ˆë‹¤", verse:"ì°½ 1:3"},
{form:"×•×™×¨×", root:"ë¼ì•„", meaning:["ë³´ë‹¤"], gloss:"ê·¸ê°€ ë³´ì•˜ë‹¤", verse:"ì°½ 1:4"},
{form:"×•×™×‘×“×œ", root:"ë°”ë‹¬", meaning:["ë‚˜ëˆ„ë‹¤","êµ¬ë³„í•˜ë‹¤"], gloss:"ê·¸ê°€ ë‚˜ëˆ„ì…¨ë‹¤", verse:"ì°½ 1:4"},
{form:"×•×™×§×¨×", root:"ì¹´ë¼", meaning:["ë¶€ë¥´ë‹¤","ì´ë¦„í•˜ë‹¤"], gloss:"ê·¸ê°€ ë¶ˆë €ë‹¤", verse:"ì°½ 1:5"},
{form:"×•×™×¢×©", root:"ì•„ì‚¬", meaning:["ë§Œë“¤ë‹¤","í–‰í•˜ë‹¤"], gloss:"ê·¸ê°€ ë§Œë“¤ì—ˆë‹¤", verse:"ì°½ 1:7"},
{form:"×™×”×™×•", root:"í•˜ì•¼", meaning:["ìˆë‹¤","ë˜ë‹¤"], gloss:"ìˆê²Œ ë˜ë¼", verse:"ì°½ 1:14"},
{form:"×œ×”××™×¨", root:"ì˜¤ë¥´", meaning:["ë¹›ë‚˜ë‹¤","ë¹„ì¶”ë‹¤"], gloss:"ë¹„ì¶”ê¸° ìœ„í•´", verse:"ì°½ 1:15"},
{form:"×•×™×ª×Ÿ", root:"ë‚˜íƒ„", meaning:["ì£¼ë‹¤","ë‘ë‹¤"], gloss:"ê·¸ê°€ ë‘ì—ˆë‹¤", verse:"ì°½ 1:17"},
{form:"×œ××©×œ", root:"ë§ˆìƒ¬", meaning:["ë‹¤ìŠ¤ë¦¬ë‹¤","í†µì¹˜í•˜ë‹¤"], gloss:"ë‹¤ìŠ¤ë¦¬ê¸° ìœ„í•´", verse:"ì°½ 1:18"},
{form:"×•×™×‘×¨×", root:"ë°”ë¼", meaning:["ì°½ì¡°í•˜ë‹¤"], gloss:"ê·¸ê°€ ì°½ì¡°í–ˆë‹¤", verse:"ì°½ 1:21"},
{form:"×•×™×‘×¨×š", root:"ë°”ë¼í¬", meaning:["ë³µì£¼ë‹¤","ì¶•ë³µí•˜ë‹¤"], gloss:"ê·¸ê°€ ì¶•ë³µí–ˆë‹¤", verse:"ì°½ 1:22"},
{form:"×¤×¨×•", root:"íŒŒë¼", meaning:["ìƒìœ¡í•˜ë‹¤","ë²ˆì„±í•˜ë‹¤"], gloss:"ìƒìœ¡í•˜ë¼", verse:"ì°½ 1:22"},
{form:"×¨×‘×•", root:"ë¼ë°”", meaning:["ë§ì•„ì§€ë‹¤","ë²ˆì„±í•˜ë‹¤"], gloss:"ë²ˆì„±í•˜ë¼", verse:"ì°½ 1:22"},
{form:"××œ××•", root:"ë§ë ˆ", meaning:["ì±„ìš°ë‹¤"], gloss:"ì±„ìš°ë¼", verse:"ì°½ 1:22"},
{form:"×•×ª×•×¦×", root:"ì•¼ì°¨", meaning:["ë‚˜ì˜¤ë‹¤","ë‚´ë‹¤"], gloss:"ë‚´ì—ˆë‹¤", verse:"ì°½ 1:24"},
{form:"× ×¢×©×”", root:"ì•„ì‚¬", meaning:["ë§Œë“¤ë‹¤","í–‰í•˜ë‹¤"], gloss:"ìš°ë¦¬ê°€ ë§Œë“¤ì", verse:"ì°½ 1:26"},
{form:"×•×¨×“×•", root:"ë¼ë‹¤", meaning:["ë‹¤ìŠ¤ë¦¬ë‹¤"], gloss:"ë‹¤ìŠ¤ë¦¬ë¼", verse:"ì°½ 1:26"},
{form:"×›×‘×©×”", root:"ì¹´ë°”ì‰¬", meaning:["ì •ë³µí•˜ë‹¤"], gloss:"ì •ë³µí•˜ë¼", verse:"ì°½ 1:28"},
{form:"× ×ª×ª×™", root:"ë‚˜íƒ„", meaning:["ì£¼ë‹¤"], gloss:"ë‚´ê°€ ì£¼ì—ˆë‹¤", verse:"ì°½ 1:29"},
{form:"×™×”×™×”", root:"í•˜ì•¼", meaning:["ìˆë‹¤","ë˜ë‹¤"], gloss:"ìˆì„ ê²ƒì´ë‹¤", verse:"ì°½ 1:30"}

];

let current;
let timer=null;
let paused=false;
let delay=5000;

const canvas=document.getElementById("wordCanvas");
const input=document.getElementById("answerInput");
const feedback=document.getElementById("feedback");
const speakerBtn=document.getElementById("speakerBtn");
const pauseBtn=document.getElementById("pauseBtn");
const resumeBtn=document.getElementById("resumeBtn");

function normalize(t){return t.trim().replace(/\s+/g,"");}

function newQuestion(){
 speakerBtn.style.display="none";
 pauseBtn.style.display="none";
 resumeBtn.style.display="none";

 canvas.className = "";
 current=verbs[Math.floor(Math.random()*verbs.length)];
 canvas.innerText=current.form;
 feedback.innerHTML="";
 input.value="";
 input.focus();
}

function parseInput(t){
 const p=t.trim().split(/\s+/);
 return {root:p[0]||"", meaning:p.slice(1).join("")};
}

function checkAnswer(){

 const parsed=parseInput(input.value);

 const rootOk=normalize(parsed.root)==normalize(current.root);

 const meaningOk=current.meaning.some(
  m=>normalize(m)==normalize(parsed.meaning)
 );

 delay=rootOk&&meaningOk?5000:10000;

 canvas.className=rootOk&&meaningOk?"correct":"wrong";

 feedback.innerHTML=
 (rootOk&&meaningOk?"ì •ë‹µ!":"ì˜¤ë‹µ!")+"<br>"+
 "ì–´ê·¼: "+current.root+" ("+current.meaning.join(", ")+")<br>"+
 "í˜•íƒœ ëœ»: "+current.gloss+"<br>"+
 "ìœ„ì¹˜: "+current.verse;

 speakerBtn.style.display="inline";
 pauseBtn.style.display="inline";

 playTTS(current.form);

 timer=setTimeout(()=>{if(!paused)newQuestion();},delay);
}

function pauseGame(){
 paused=true;
 clearTimeout(timer);
 pauseBtn.style.display="none";
 resumeBtn.style.display="inline";
}

function resumeGame(){
 paused=false;
 pauseBtn.style.display="inline";
 resumeBtn.style.display="none";
 timer=setTimeout(newQuestion,delay);
}

function playTTS(text){

 fetch("https://translate.googleapis.com/translate_tts?ie=UTF-8&q="+encodeURIComponent(text)+"&tl=he&client=tw-ob")
 .then(r=>r.blob())
 .then(b=>{
  const audio=new Audio(URL.createObjectURL(b));
  audio.play();
 })
 .catch(()=>{
  const u=new SpeechSynthesisUtterance(text);
  u.lang="he-IL";
  speechSynthesis.speak(u);
 });
}

speakerBtn.onclick=function(){playTTS(current.form);};

input.addEventListener("keypress",e=>{if(e.key==="Enter")checkAnswer();});

newQuestion();

</script>
</body>
</html>
